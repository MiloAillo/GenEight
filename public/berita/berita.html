<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Berita</title>
    <link href="https://fonts.googleapis.com/css2?family=Fragment+Mono&family=Hanuman&display=swap" rel="stylesheet"> <!-- import font FRAGMENT MONO dan Hanuman -->
    <link href="https://fonts.cdnfonts.com/css/source-sans-pro" rel="stylesheet"> 
    <link href="https://fonts.cdnfonts.com/css/itc-eras-ultra" rel="stylesheet">  <!-- import font ERAS BOLD ITC -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=block"> <!-- import google icons -->
    <link rel="stylesheet" href="berita.css">
</head>
<body>
    <!-- NAVBAR -->
    <div class="navbar">     <!-- Kontainer navbar utama -->
        <img src="../img/FullSMKN8.png" alt="smkn8" class="navbarLogo">
        <nav>
            <p class="navbarHome navbarDesktop"><a href="/" class="navbarLink">Home</a></p>
            <div class="dropdownJurusan">
                <p class="navbarJurusan navbarDesktop"><a class="navbarLink">Jurusan</a></p>
                <div class="jurusanContent">
                    <a href="../jurusan/PPLG/pplg.html">PPLG</a>
                    <a href="../jurusan/TJKT/tjkt.html">TJKT</a>
                    <a href="../jurusan/DKV/dkv.html">DKV</a>
                    <a href="../jurusan/LK/lk.html">LK</a>
                    <a href="../jurusan/PS/ps.html">PS</a>
                </div>
            </div>
            <p class="navbarQnA navbarDesktop"><a href="../qna/qna.html" class="navbarLink">QnA</a></p>
            <p class="navbarLogin"><a href="../login/login.html" class="navbarLink">Login</a></p>
            <span class="material-symbols-outlined" id="navbarExtendBTN">menu</span>
        </nav>
    </div>
    <div class="navbarExtended" id="navbarExtended"> <!-- Kontainer navbar menu mobile -->
        <p class="navbarQnA navbarMobile"><a href="qna.html" class="navbarLink">QnA</a></p>
        <div class="jurusanDD navbarJurusan navbarMobile">
            <p class="jurusanJudul">Jurusan</p>
            <div class="dropdownMobile">
                    <a href="../jurusan/PPLG/pplg.html">PPLG</a>
                    <a href="../jurusan/TJKT/tjkt.html">TJKT</a>
                    <a href="../jurusan/DKV/dkv.html">DKV</a>
                    <a href="../jurusan/LK/lk.html">LK</a>
                    <a href="../jurusan/PS/ps.html">PS</a>
            </div>
        </div>
        <p class="navbarHome navbarMobile"><a href="/" class="navbarLink">Home</a></p>
    </div>

    <!-- BERITA -->
    <div class="box" id="box"></div>

    <!-- FOOTER -->
    <svg class="footerWave" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
  <defs>
    <linearGradient id="waveGradient"
                    gradientUnits="userSpaceOnUse"
                    x1="0" y1="0" x2="1440" y2="320">
      <stop offset="0%"   stop-color="#FF4F5D"/>
      <stop offset="100%" stop-color="#F535DB"/>
    </linearGradient>
  </defs>
<path class="wave" fill="url(#waveGradient)" fill-opacity="1" d="M0,160L80,186.7C160,213,320,267,480,277.3C640,288,800,256,960,234.7C1120,213,1280,203,1360,197.3L1440,192L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path></svg>

<div class="footer">
    <div><p>INOVATIF, DISIPLIN, KOLABORATIF.</p></div>

    <div class="footerContainer">
        <div class="footerBox1">
            <div class="f1-header">SMKN 8 Semarang</div>
            <div class="f1-content">
                Jalan Pandanaran II No.12 <br>
                Mugassari, Semarang Selatan <br>
                Kode Pos: 50249
            </div>
        </div>

        <div class="footerBox2">
            <div class="f2-header">Kontak Sekolah</div>
            <div class="f2-content">
                <a href="https://www.instagram.com/humas.smk8semarang/">Instagram</a> <br>
                <a href="https://www.facebook.com/smkn8semarang/">Facebook</a><br>
                <a href="https://www.tiktok.com/@smk8semarang">TikTok</a>
            </div>
        </div>
        
        <div class="footerBox3">
            <div class="f3-header">Kontak Tim</div>
            <div class="f3-content">
                <a href="https://wa.me/qr/TRBLPOLEAQNTM1">WhatsApp</a>
            </div>
        </div>
    </div>

    <div class="endInformation">
        <div class="Inf-Phone">
            <a href="tel:+62243123456"><span class="material-symbols-outlined footerIcon">call</span></a>
            <a class="Inf-Phone-Txt" href="tel:+62243123456">+62 243 123 456</a>
        </div>

        <div class="Inf-Email">
            <a href="mailto:smkn8_semarang@yahoo.com"><span class="material-symbols-outlined footerIcon">email</span></a>
            <a class="Inf-Email-Txt" href="mailto:smkn8_semarang@yahoo.com">smkn8_semarang@yahoo.com</a>
        </div>

        <div class="Inf-Web">
            <a href="https://smkn8semarang.sch.id/"><span class="material-symbols-outlined footerIcon">web</span></a>
            <a class="Inf-Web-Txt" href="https://smkn8semarang.sch.id/">smkn8semarang.sch.id</a>
        </div>
    </div>
</div>
    <script>
        // NAVBAR
        const menuBTN = document.querySelector("#navbarExtendBTN"); // Navbar : mengambil elemen tombol menu
        const menu = document.querySelector("#navbarExtended"); // Navbar : mengambil elemen menu

        let isOpen = false; // Navbar : status menu (open/close)
        menuBTN.addEventListener("click", () => { // Navbar : logika menu mobile
            if (!isOpen) {
                menu.style.display = "flex";
                menuBTN.textContent = "close"; // Navbar : ganti icon menjadi close (X)
                isOpen = true;
            } else {
                menu.style.display = "none";
                menuBTN.textContent = "menu"; // Navbar : ganti icon menjadi menu (â‰¡)
                isOpen = false;
            }
        });
        
        const jurusanMobile = document.querySelector(".jurusanJudul")
        const jurusanDropdownMobile = document.querySelector(".dropdownMobile")

        jurusanMobile.addEventListener("click", dropdownJurusan)

        let isJurusanOpen = false
        function dropdownJurusan() {
            if (!isJurusanOpen) {
                jurusanDropdownMobile.style.display = "flex"
                isJurusanOpen = true
            } else {
                jurusanDropdownMobile.style.display = "none"
                isJurusanOpen = false
            }
        }

        // BERITA
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id")
        if (!id) {
           console.log("no ID!")
        } else {
            async function fetchBerita() {
                try {
                    const response = await fetch(`/detailBerita/${id}`)
                    const berita = await response.json()
                    render(berita)
                } catch(err) {
                    console.log(err)
                }
            }
            fetchBerita()
        }

        function render(data) {
            const box = document.getElementById("box")
            box.innerHTML = ""
            list = ""
            console.log(data)
            for (berita of data) {
                list += `<p class="judul" id="judul">${berita.judul}</p>
                        <div class="deskripsi">
                            <p class="date" id="date">${berita.waktu}</p>
                            <p>|</p>
                            <p class="author" id="author">${berita.username}</p>
                        </div>
                        <p class="isi" id="isi">${berita.isi}</p>`
            }
            console.log(list)
            box.innerHTML = list
        }

    </script>
</body>
</html>